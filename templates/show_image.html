<!-- templates/show_image.html -->
<!DOCTYPE html>
<html>
    <head>
        <title>Show Image</title>
    </head>
    <body>
        <h1>Uploaded Image</h1>
        <p>Image Name: {{ filename }}</p>

        <!-- Display the image on a canvas -->
        <canvas id="uploadedImageCanvas" width="800" height="600"></canvas>

        <script>
            const canvas = document.getElementById("uploadedImageCanvas");
            const context = canvas.getContext("2d");
            const image = new Image();

            // Set the image source to the uploaded image
            image.src = "/uploads/{{ filename }}";

            // Draw the image on the canvas when it's loaded
            image.onload = function () {
                // Ensure the canvas is cleared before drawing the image
                context.clearRect(0, 0, canvas.width, canvas.height);

                // Draw the image on the canvas
                context.drawImage(image, 0, 0, canvas.width, canvas.height);
            };

            // Handle image loading errors
            image.onerror = function () {
                console.error("Error loading the image.");
            };
        </script>
    </body>
</html>
